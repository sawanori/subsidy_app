{"version":3,"names":["ErrorCode","cov_15erayhkvx","s","f"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/lib/api/types.ts"],"sourcesContent":["// OpenAPI型定義（自動生成される型定義ファイル）\n// openapi.yamlから生成される型を管理\n\nexport interface HealthCheckResponse {\n  status: 'healthy';\n  timestamp: string;\n  version: string;\n}\n\nexport interface IntakeUploadRequest {\n  file: File;\n  type: 'certificate' | 'tax_return' | 'other';\n}\n\nexport interface IntakeResponse {\n  file_id: string;\n  sha256: string;\n  mime_type: string;\n  size: number;\n  status: 'uploaded' | 'scanning' | 'ready' | 'rejected';\n}\n\nexport interface ExtractRequest {\n  file_id: string;\n  ocr_provider?: 'tesseract' | 'cloud';\n}\n\nexport interface ExtractResponse {\n  extraction_id: string;\n  file_id: string;\n  document_type: 'certificate' | 'tax_return_personal' | 'tax_return_corporate' | 'unknown';\n  extracted_fields: Record<string, any>;\n  confidence_scores: Record<string, number>;\n}\n\nexport interface SearchRequest {\n  query: string;\n  provider?: 'bing' | 'google';\n  max_results?: number;\n}\n\nexport interface SearchResponse {\n  search_id: string;\n  results: Array<{\n    title: string;\n    url: string;\n    snippet: string;\n    score: number;\n  }>;\n}\n\nexport interface FetchRequest {\n  url: string;\n}\n\nexport interface FetchResponse {\n  content_id: string;\n  url: string;\n  content_type: string;\n  content: string;\n  extracted_at: string;\n}\n\nexport interface IngestRequest {\n  content_id: string;\n  application_id: string;\n}\n\nexport interface IngestResponse {\n  evidence_id: string;\n  content_id: string;\n  application_id: string;\n  metadata: Record<string, any>;\n}\n\nexport interface GenerateBackgroundRequest {\n  application_id: string;\n  evidence_ids?: string[];\n}\n\nexport interface GenerateSolutionRequest {\n  application_id: string;\n  background_id: string;\n}\n\nexport interface GenerateKpisRequest {\n  application_id: string;\n  solution_id: string;\n}\n\nexport interface GenerateBudgetRequest {\n  application_id: string;\n  solution_id: string;\n}\n\nexport interface GenerateScheduleRequest {\n  application_id: string;\n  solution_id: string;\n}\n\nexport interface GenerateResponse {\n  generation_id: string;\n  content: string;\n  citations: Array<{\n    evidence_id: string;\n    text: string;\n    url: string;\n  }>;\n}\n\nexport interface Kpi {\n  name: string;\n  baseline: number;\n  target: number;\n  unit: string;\n  measurement_method?: string;\n  frequency?: string;\n}\n\nexport interface KpiResponse {\n  kpi_set_id: string;\n  kpis: Kpi[];\n}\n\nexport interface BudgetItem {\n  category: string;\n  name: string;\n  amount: number;\n  is_eligible: boolean;\n  subsidy_rate: number;\n}\n\nexport interface Budget {\n  items: BudgetItem[];\n  total_amount: number;\n  subsidy_amount: number;\n  self_funding: number;\n}\n\nexport interface BudgetResponse {\n  budget_id: string;\n  budget: Budget;\n}\n\nexport interface ScheduleTask {\n  id: string;\n  name: string;\n  start: string;\n  end: string;\n  dependencies: string[];\n}\n\nexport interface Schedule {\n  tasks: ScheduleTask[];\n  start_date: string;\n  end_date: string;\n  critical_path: string[];\n}\n\nexport interface ScheduleResponse {\n  schedule_id: string;\n  schedule: Schedule;\n  gantt_svg: string;\n}\n\nexport interface ValidationError {\n  code: string;\n  message: string;\n  field?: string;\n  severity: 'error' | 'warning' | 'info';\n}\n\nexport interface ValidationSuggestion {\n  type: string;\n  message: string;\n  proposed_fix: string;\n}\n\nexport interface ValidationResponse {\n  is_valid: boolean;\n  errors: ValidationError[];\n  suggestions: ValidationSuggestion[];\n}\n\nexport interface PreflightError {\n  rule_id: string;\n  message: string;\n}\n\nexport interface PreflightResponse {\n  is_valid: boolean;\n  page_count: number;\n  page_size: string;\n  fonts_embedded: boolean;\n  errors: PreflightError[];\n}\n\nexport interface JobResponse {\n  job_id: string;\n  status: 'queued' | 'running' | 'succeeded' | 'failed';\n  progress: number;\n  result_url?: string;\n}\n\nexport interface TemplateResponse {\n  template_id: string;\n  name: string;\n  version: string;\n  sha256: string;\n  created_at: string;\n}\n\nexport interface ErrorResponse {\n  error: {\n    code: string;\n    message: string;\n    details?: Record<string, any>;\n  };\n  timestamp: string;\n  path: string;\n}\n\n// エラーコード定義\nexport enum ErrorCode {\n  // Intake関連エラー\n  ERR_INGEST_MIME = 'ERR_INGEST_MIME',\n  ERR_INGEST_SIZE = 'ERR_INGEST_SIZE',\n  ERR_INGEST_MALWARE = 'ERR_INGEST_MALWARE',\n  ERR_INGEST_EXTENSION = 'ERR_INGEST_EXTENSION',\n  ERR_INGEST_CORRUPT = 'ERR_INGEST_CORRUPT',\n\n  // OCR関連エラー\n  ERR_OCR_LOW_CONF = 'ERR_OCR_LOW_CONF',\n  ERR_OCR_FAILED = 'ERR_OCR_FAILED',\n  ERR_OCR_TIMEOUT = 'ERR_OCR_TIMEOUT',\n  ERR_OCR_LANGUAGE = 'ERR_OCR_LANGUAGE',\n\n  // 検証関連エラー\n  ERR_VALIDATION_TEXT = 'ERR_VALIDATION_TEXT',\n  ERR_VALIDATION_KPI = 'ERR_VALIDATION_KPI',\n  ERR_VALIDATION_BUDGET = 'ERR_VALIDATION_BUDGET',\n  ERR_VALIDATION_SCHEDULE = 'ERR_VALIDATION_SCHEDULE',\n\n  // Preflight関連エラー\n  ERR_PREFLIGHT_PAGE_LIMIT = 'ERR_PREFLIGHT_PAGE_LIMIT',\n  ERR_PREFLIGHT_FONT_MISSING = 'ERR_PREFLIGHT_FONT_MISSING',\n  ERR_PREFLIGHT_FONT_MISMATCH = 'ERR_PREFLIGHT_FONT_MISMATCH',\n  ERR_PREFLIGHT_MARGIN = 'ERR_PREFLIGHT_MARGIN',\n\n  // Budget関連エラー\n  ERR_BUDGET_RULE_MISS = 'ERR_BUDGET_RULE_MISS',\n  ERR_BUDGET_CALC_ERROR = 'ERR_BUDGET_CALC_ERROR',\n  ERR_BUDGET_OVER_LIMIT = 'ERR_BUDGET_OVER_LIMIT',\n\n  // Export関連エラー\n  ERR_EXPORT_TIMEOUT = 'ERR_EXPORT_TIMEOUT',\n  ERR_EXPORT_FAILED = 'ERR_EXPORT_FAILED',\n  ERR_EXPORT_TEMPLATE = 'ERR_EXPORT_TEMPLATE',\n\n  // コスト関連エラー\n  ERR_COST_LIMIT = 'ERR_COST_LIMIT',\n  ERR_COST_ESTIMATE = 'ERR_COST_ESTIMATE',\n\n  // 認証・認可関連エラー\n  ERR_AUTH_INVALID = 'ERR_AUTH_INVALID',\n  ERR_AUTH_EXPIRED = 'ERR_AUTH_EXPIRED',\n  ERR_AUTH_FORBIDDEN = 'ERR_AUTH_FORBIDDEN',\n\n  // システムエラー\n  ERR_SYSTEM_DATABASE = 'ERR_SYSTEM_DATABASE',\n  ERR_SYSTEM_STORAGE = 'ERR_SYSTEM_STORAGE',\n  ERR_SYSTEM_NETWORK = 'ERR_SYSTEM_NETWORK',\n  ERR_SYSTEM_INTERNAL = 'ERR_SYSTEM_INTERNAL',\n}"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA8NY;;;;;;WAAAA,SAAA;;;AAAL,IAAAA,SAAK;AAAA;AAAA,cAAAC,cAAA,GAAAC,CAAA,iBAAAF,SAAA;EAAA;EAAAC,cAAA,GAAAE,CAAA;EAAAF,cAAA,GAAAC,CAAA;EACV;;;;;;;;;;;;;;EAOA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;;;;EAMA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;;;;EAMA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;;;;EAMA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;EAKA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;EAKA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;EAIA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;EAKA;EAAA;EAAAD,cAAA,GAAAC,CAAA;;;;;;;;;;;;;SA7CUF,SAAA","ignoreList":[]}