{"version":3,"names":["FileDropzone","defaultConfig","cov_2q6i58mnbh","s","maxFileSize","maxFiles","allowedTypes","enableOCR","enableAutoSummary","enableChartExtraction","onFilesUpload","onFileRemove","uploadedFiles","uploadProgress","config","b","className","f","t","_nextintl","useTranslations","dragError","setDragError","_react","useState","finalConfig","onDrop","useCallback","acceptedFiles","rejectedFiles","length","oversizedFiles","filter","file","size","_utils","formatBytes","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","_reactdropzone","useDropzone","accept","reduce","acc","type","maxSize","getFileIcon","startsWith","_jsxruntime","jsx","_lucidereact","Image","FileText","File","getStatusColor","status","jsxs","_card","Card","CardContent","Upload","_button","Button","variant","AlertCircle","map","progress","fileName","_progress","Progress","value","stage","error","fileId","name","Date","uploadedAt","toLocaleString","qualityScore","_badge","Badge","Math","round","ocrResult","structuredData","charts","BarChart3","CheckCircle2","previewUrl","Eye","Download","onClick","id","X"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/components/upload/FileDropzone.tsx"],"sourcesContent":["'use client';\n\nimport React, { useCallback, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useTranslations } from 'next-intl';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Upload, \n  File, \n  FileText, \n  Image, \n  AlertCircle, \n  CheckCircle2,\n  X,\n  Eye,\n  Download,\n  BarChart3\n} from 'lucide-react';\nimport { UploadedFile, UploadConfig, UploadProgress } from '@/types/upload';\nimport { formatBytes } from '@/lib/utils';\n\ninterface FileDropzoneProps {\n  onFilesUpload: (files: File[]) => void;\n  onFileRemove: (fileId: string) => void;\n  uploadedFiles: UploadedFile[];\n  uploadProgress: UploadProgress[];\n  config?: Partial<UploadConfig>;\n  className?: string;\n}\n\nconst defaultConfig: UploadConfig = {\n  maxFileSize: 10 * 1024 * 1024, // 10MB\n  maxFiles: 5,\n  allowedTypes: [\n    'application/pdf',\n    'image/jpeg',\n    'image/png',\n    'image/gif',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    'application/vnd.ms-excel',\n    'text/csv'\n  ],\n  enableOCR: true,\n  enableAutoSummary: true,\n  enableChartExtraction: true,\n};\n\nexport function FileDropzone({\n  onFilesUpload,\n  onFileRemove,\n  uploadedFiles,\n  uploadProgress,\n  config = {},\n  className = ''\n}: FileDropzoneProps) {\n  const t = useTranslations();\n  const [dragError, setDragError] = useState<string | null>(null);\n  \n  const finalConfig = { ...defaultConfig, ...config };\n\n  const onDrop = useCallback((acceptedFiles: File[], rejectedFiles: any[]) => {\n    setDragError(null);\n    \n    // バリデーション\n    if (uploadedFiles.length + acceptedFiles.length > finalConfig.maxFiles) {\n      setDragError(`最大${finalConfig.maxFiles}ファイルまでアップロード可能です`);\n      return;\n    }\n    \n    const oversizedFiles = acceptedFiles.filter(file => file.size > finalConfig.maxFileSize);\n    if (oversizedFiles.length > 0) {\n      setDragError(`ファイルサイズが大きすぎます (最大: ${formatBytes(finalConfig.maxFileSize)})`);\n      return;\n    }\n    \n    if (rejectedFiles.length > 0) {\n      setDragError('サポートされていないファイル形式が含まれています');\n      return;\n    }\n    \n    onFilesUpload(acceptedFiles);\n  }, [uploadedFiles.length, finalConfig, onFilesUpload]);\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject\n  } = useDropzone({\n    onDrop,\n    accept: finalConfig.allowedTypes.reduce((acc, type) => {\n      acc[type] = [];\n      return acc;\n    }, {} as Record<string, string[]>),\n    maxFiles: finalConfig.maxFiles - uploadedFiles.length,\n    maxSize: finalConfig.maxFileSize,\n  });\n\n  const getFileIcon = (file: UploadedFile) => {\n    if (file.type.startsWith('image/')) {\n      return <Image className=\"h-6 w-6 text-blue-500\" />;\n    } else if (file.type === 'application/pdf') {\n      return <FileText className=\"h-6 w-6 text-red-500\" />;\n    } else {\n      return <File className=\"h-6 w-6 text-gray-500\" />;\n    }\n  };\n\n  const getStatusColor = (status: UploadedFile['status']) => {\n    switch (status) {\n      case 'completed': return 'bg-green-100 text-green-800';\n      case 'processing': return 'bg-blue-100 text-blue-800';\n      case 'uploading': return 'bg-yellow-100 text-yellow-800';\n      case 'error': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* ドロップゾーン */}\n      <Card>\n        <CardContent className=\"p-6\">\n          <div\n            {...getRootProps()}\n            className={`\n              border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all\n              ${isDragActive ? 'border-primary bg-primary/5' : 'border-gray-300'}\n              ${isDragAccept ? 'border-green-500 bg-green-50' : ''}\n              ${isDragReject ? 'border-red-500 bg-red-50' : ''}\n              hover:border-primary hover:bg-primary/5\n            `}\n          >\n            <input {...getInputProps()} />\n            \n            <div className=\"flex flex-col items-center space-y-4\">\n              <Upload \n                className={`h-12 w-12 ${\n                  isDragActive ? 'text-primary' : 'text-gray-400'\n                }`} \n              />\n              \n              <div>\n                <p className=\"text-lg font-medium\">\n                  {isDragActive \n                    ? 'ファイルをドロップしてください' \n                    : 'ファイルをドラッグ＆ドロップ'\n                  }\n                </p>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  または <Button variant=\"link\" className=\"p-0 h-auto\">クリックしてファイルを選択</Button>\n                </p>\n              </div>\n              \n              <div className=\"text-xs text-gray-500 space-y-1\">\n                <p>対応形式: PDF, Excel, CSV, 画像 (JPEG, PNG, GIF)</p>\n                <p>最大ファイルサイズ: {formatBytes(finalConfig.maxFileSize)}</p>\n                <p>最大ファイル数: {finalConfig.maxFiles}個</p>\n              </div>\n            </div>\n          </div>\n          \n          {dragError && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2\">\n              <AlertCircle className=\"h-4 w-4 text-red-600\" />\n              <span className=\"text-red-700 text-sm\">{dragError}</span>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* アップロード進行状況 */}\n      {uploadProgress.length > 0 && (\n        <Card>\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-medium mb-4\">アップロード進行状況</h3>\n            <div className=\"space-y-3\">\n              {uploadProgress.map((progress) => (\n                <div key={progress.fileId} className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span className=\"font-medium\">{progress.fileName}</span>\n                    <span className=\"text-gray-500\">{progress.progress}%</span>\n                  </div>\n                  <Progress value={progress.progress} className=\"h-2\" />\n                  <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                    <span>状態: {progress.stage}</span>\n                    {progress.error && (\n                      <span className=\"text-red-600\">{progress.error}</span>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* アップロード済みファイル一覧 */}\n      {uploadedFiles.length > 0 && (\n        <Card>\n          <CardContent className=\"p-4\">\n            <h3 className=\"font-medium mb-4\">\n              アップロード済みファイル ({uploadedFiles.length}/{finalConfig.maxFiles})\n            </h3>\n            \n            <div className=\"space-y-3\">\n              {uploadedFiles.map((file) => (\n                <div \n                  key={file.id} \n                  className=\"flex items-center justify-between p-3 bg-gray-50 rounded border\"\n                >\n                  <div className=\"flex items-center space-x-3 flex-1\">\n                    {getFileIcon(file)}\n                    \n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"font-medium truncate\">{file.name}</p>\n                      <div className=\"flex items-center space-x-4 text-xs text-gray-500 mt-1\">\n                        <span>{formatBytes(file.size)}</span>\n                        <span>{new Date(file.uploadedAt).toLocaleString('ja-JP')}</span>\n                        \n                        {file.qualityScore && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            品質: {Math.round(file.qualityScore * 100)}%\n                          </Badge>\n                        )}\n                        \n                        {file.ocrResult && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            <FileText className=\"h-3 w-3 mr-1\" />\n                            OCR済み\n                          </Badge>\n                        )}\n                        \n                        {file.structuredData?.charts && file.structuredData.charts.length > 0 && (\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            <BarChart3 className=\"h-3 w-3 mr-1\" />\n                            グラフ{file.structuredData.charts.length}個\n                          </Badge>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <Badge className={getStatusColor(file.status)}>\n                      {file.status === 'completed' && <CheckCircle2 className=\"h-3 w-3 mr-1\" />}\n                      {file.status === 'error' && <AlertCircle className=\"h-3 w-3 mr-1\" />}\n                      {file.status === 'completed' ? '完了' : \n                       file.status === 'processing' ? '処理中' : \n                       file.status === 'uploading' ? 'アップロード中' : 'エラー'}\n                    </Badge>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2 ml-4\">\n                    {file.previewUrl && (\n                      <Button variant=\"ghost\" size=\"sm\">\n                        <Eye className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                    \n                    <Button variant=\"ghost\" size=\"sm\">\n                      <Download className=\"h-4 w-4\" />\n                    </Button>\n                    \n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\"\n                      onClick={() => onFileRemove(file.id)}\n                      className=\"text-red-600 hover:text-red-700\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* 技術機能説明 */}\n      <Card className=\"bg-blue-50 border-blue-200\">\n        <CardContent className=\"p-4\">\n          <h4 className=\"font-medium text-blue-900 mb-2\">🚀 高度な自動処理機能</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-blue-800\">\n            <div className=\"flex items-center space-x-2\">\n              <FileText className=\"h-4 w-4\" />\n              <span>OCR文字認識・テキスト抽出</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <BarChart3 className=\"h-4 w-4\" />\n              <span>グラフ・表の自動検出・データ化</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              <span>品質スコア・構造化分析</span>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}