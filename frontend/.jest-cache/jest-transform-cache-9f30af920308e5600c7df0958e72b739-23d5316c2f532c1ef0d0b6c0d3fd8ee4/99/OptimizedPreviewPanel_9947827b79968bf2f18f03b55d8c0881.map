{"version":3,"names":["OptimizedPreviewPanel","cov_1a53ctcpn8","s","_react","memo","data","config","onConfigChange","onExport","className","b","isFullscreen","f","t","_nextintl","useTranslations","markStart","markEnd","_usePerformanceOptimization","usePerformanceMonitor","debouncedData","useDebounce","debouncedConfig","previewStats","useExpensiveComputation","stats","totalFields","Object","keys","form1","length","form2","form4","completedFields","formProgress","estimatedPdfSize","renderTime","forms","type","confirmation","forEach","formData","fields","values","completed","filter","v","Math","max","formRenderer","useMemo","renderers","_FormOnePreview","FormOnePreview","_FormTwoPreview","FormTwoPreview","_FormFourPreview","FormFourPreview","_ConfirmationPreview","ConfirmationPreview","activeForm","handleConfigChange","useCallback","updates","handleExport","format","handleFormSwitch","formType","optimizedStyles","container","height","transform","zoom","transformOrigin","transition","content","willChange","backfaceVisibility","perspective","FormComponent","_jsxruntime","jsxs","_card","Card","CardHeader","jsx","_lucidereact","Eye","CardTitle","CardDescription","_badge","Badge","variant","Zap","Clock","toFixed","_button","Button","size","onClick","fullscreen","Maximize2","round","_progress","Progress","value","CardContent","style","_tabs","Tabs","onValueChange","TabsList","TabsTrigger","TabsContent","onChange","e","parseFloat","target","disabled","Download","showGrid","Settings","createMemoComparison","displayName"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/components/preview/OptimizedPreviewPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { memo, useMemo, useCallback } from 'react';\nimport { useTranslations } from 'next-intl';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Eye, \n  Download, \n  RefreshCw, \n  Settings, \n  FileText,\n  Maximize2,\n  Clock,\n  Zap\n} from 'lucide-react';\nimport { \n  useExpensiveComputation, \n  useDebounce,\n  usePerformanceMonitor,\n  createMemoComparison\n} from '@/hooks/usePerformanceOptimization';\nimport { FormOnePreview } from './forms/FormOnePreview';\nimport { FormTwoPreview } from './forms/FormTwoPreview';\nimport { FormFourPreview } from './forms/FormFourPreview';\nimport { ConfirmationPreview } from './forms/ConfirmationPreview';\nimport { PreviewData, PreviewConfig, FormType } from '@/types/preview';\n\ninterface OptimizedPreviewPanelProps {\n  data: PreviewData;\n  config: PreviewConfig;\n  onConfigChange: (config: PreviewConfig) => void;\n  onExport?: (format: 'pdf' | 'png') => Promise<void>;\n  className?: string;\n  isFullscreen?: boolean;\n}\n\n/**\n * APP-240: パフォーマンス最適化済みPreviewPanel\n * React.memo + useMemo + Virtual DOM最適化実装\n */\nexport const OptimizedPreviewPanel = memo<OptimizedPreviewPanelProps>(({\n  data,\n  config,\n  onConfigChange,\n  onExport,\n  className = '',\n  isFullscreen = false\n}) => {\n  const t = useTranslations();\n  const { markStart, markEnd } = usePerformanceMonitor('OptimizedPreviewPanel');\n  \n  // デバウンス処理でレンダリング頻度を制限（2秒以内表示保証）\n  const debouncedData = useDebounce(data, 100);\n  const debouncedConfig = useDebounce(config, 150);\n  \n  // 高コストな計算の最適化\n  const previewStats = useExpensiveComputation(\n    { data: debouncedData, config: debouncedConfig },\n    ({ data, config }) => {\n      markStart();\n      \n      const stats = {\n        totalFields: Object.keys(data.form1 || {}).length + \n                    Object.keys(data.form2 || {}).length + \n                    Object.keys(data.form4 || {}).length,\n        completedFields: 0,\n        formProgress: {} as Record<FormType, number>,\n        estimatedPdfSize: 0,\n        renderTime: 0\n      };\n      \n      // フォーム別完成度計算\n      const forms: Array<{ type: FormType; data: any }> = [\n        { type: 'form1', data: data.form1 },\n        { type: 'form2', data: data.form2 },\n        { type: 'form4', data: data.form4 },\n        { type: 'confirmation', data: data.confirmation }\n      ];\n      \n      forms.forEach(({ type, data: formData }) => {\n        if (!formData) {\n          stats.formProgress[type] = 0;\n          return;\n        }\n        \n        const fields = Object.values(formData);\n        const completed = fields.filter(v => v && v !== '').length;\n        stats.formProgress[type] = fields.length > 0 ? (completed / fields.length) * 100 : 0;\n        stats.completedFields += completed;\n      });\n      \n      // PDF推定サイズ計算\n      stats.estimatedPdfSize = Math.max(50, stats.totalFields * 1.2); // KB\n      \n      stats.renderTime = markEnd('previewStats calculation');\n      return stats;\n    },\n    [debouncedData, debouncedConfig]\n  );\n  \n  // メモ化されたフォームレンダラー\n  const formRenderer = useMemo(() => {\n    const renderers = {\n      form1: FormOnePreview,\n      form2: FormTwoPreview,\n      form4: FormFourPreview,\n      confirmation: ConfirmationPreview\n    };\n    \n    return renderers[debouncedConfig.activeForm] || FormOnePreview;\n  }, [debouncedConfig.activeForm]);\n  \n  // メモ化されたイベントハンドラー\n  const handleConfigChange = useCallback((updates: Partial<PreviewConfig>) => {\n    onConfigChange({ ...config, ...updates });\n  }, [config, onConfigChange]);\n  \n  const handleExport = useCallback(async (format: 'pdf' | 'png') => {\n    if (!onExport) return;\n    \n    markStart();\n    await onExport(format);\n    markEnd(`export ${format}`);\n  }, [onExport, markStart, markEnd]);\n  \n  const handleFormSwitch = useCallback((formType: FormType) => {\n    handleConfigChange({ activeForm: formType });\n  }, [handleConfigChange]);\n  \n  // Virtual DOM用のスタイル最適化\n  const optimizedStyles = useMemo(() => ({\n    container: {\n      height: isFullscreen ? '100vh' : '600px',\n      transform: `scale(${debouncedConfig.zoom})`,\n      transformOrigin: 'top left',\n      transition: 'transform 0.2s ease-out'\n    },\n    content: {\n      willChange: 'transform',\n      backfaceVisibility: 'hidden' as const,\n      perspective: 1000\n    }\n  }), [isFullscreen, debouncedConfig.zoom]);\n  \n  const FormComponent = formRenderer;\n  \n  return (\n    <Card className={`${className} ${isFullscreen ? 'fixed inset-0 z-50' : ''}`}>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Eye className=\"h-5 w-5 text-blue-600\" />\n            <div>\n              <CardTitle className=\"text-lg\">リアルタイムプレビュー</CardTitle>\n              <CardDescription>\n                2秒以内表示・差分最適化・worker3統合\n              </CardDescription>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <Badge variant=\"outline\" className=\"text-xs\">\n              <Zap className=\"h-3 w-3 mr-1\" />\n              APP-240最適化\n            </Badge>\n            \n            <Badge variant={previewStats.renderTime < 16 ? \"default\" : \"destructive\"}>\n              <Clock className=\"h-3 w-3 mr-1\" />\n              {previewStats.renderTime.toFixed(1)}ms\n            </Badge>\n            \n            {!isFullscreen && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => handleConfigChange({ fullscreen: true })}\n              >\n                <Maximize2 className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n        </div>\n        \n        {/* プログレス表示 */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span>フォーム完成度</span>\n            <span>{Math.round(previewStats.formProgress[debouncedConfig.activeForm] || 0)}%</span>\n          </div>\n          <Progress \n            value={previewStats.formProgress[debouncedConfig.activeForm] || 0} \n            className=\"h-2\" \n          />\n        </div>\n      </CardHeader>\n      \n      <CardContent style={optimizedStyles.content}>\n        <Tabs value={debouncedConfig.activeForm} onValueChange={handleFormSwitch}>\n          <TabsList className=\"grid w-full grid-cols-4 mb-4\">\n            <TabsTrigger value=\"form1\" className=\"text-xs\">\n              様式1 ({Math.round(previewStats.formProgress.form1 || 0)}%)\n            </TabsTrigger>\n            <TabsTrigger value=\"form2\" className=\"text-xs\">\n              様式2 ({Math.round(previewStats.formProgress.form2 || 0)}%)\n            </TabsTrigger>\n            <TabsTrigger value=\"form4\" className=\"text-xs\">\n              様式4 ({Math.round(previewStats.formProgress.form4 || 0)}%)\n            </TabsTrigger>\n            <TabsTrigger value=\"confirmation\" className=\"text-xs\">\n              確認 ({Math.round(previewStats.formProgress.confirmation || 0)}%)\n            </TabsTrigger>\n          </TabsList>\n          \n          <div \n            className=\"preview-container bg-white border border-gray-200 rounded overflow-auto\"\n            style={optimizedStyles.container}\n          >\n            <TabsContent value={debouncedConfig.activeForm} className=\"mt-0 h-full\">\n              <FormComponent\n                data={debouncedData}\n                config={debouncedConfig}\n                className=\"h-full\"\n              />\n            </TabsContent>\n          </div>\n        </Tabs>\n        \n        {/* コントロールパネル */}\n        <div className=\"flex items-center justify-between mt-4 pt-4 border-t\">\n          <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n            <span>完了フィールド: {previewStats.completedFields}</span>\n            <span>•</span>\n            <span>推定PDF: {previewStats.estimatedPdfSize.toFixed(1)}KB</span>\n            <span>•</span>\n            <span>レンダリング: {previewStats.renderTime.toFixed(1)}ms</span>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <div className=\"flex items-center space-x-1\">\n              <label className=\"text-xs text-gray-600\">倍率:</label>\n              <select\n                value={debouncedConfig.zoom}\n                onChange={(e) => handleConfigChange({ zoom: parseFloat(e.target.value) })}\n                className=\"text-xs border rounded px-1\"\n              >\n                <option value=\"0.5\">50%</option>\n                <option value=\"0.75\">75%</option>\n                <option value=\"1\">100%</option>\n                <option value=\"1.25\">125%</option>\n                <option value=\"1.5\">150%</option>\n              </select>\n            </div>\n            \n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleExport('pdf')}\n              disabled={!onExport}\n            >\n              <Download className=\"h-4 w-4 mr-1\" />\n              PDF\n            </Button>\n            \n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleConfigChange({ showGrid: !debouncedConfig.showGrid })}\n            >\n              <Settings className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}, createMemoComparison(['data', 'config', 'isFullscreen']));\n\nOptimizedPreviewPanel.displayName = 'OptimizedPreviewPanel';"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}