{"version":3,"names":["cov_plwd3x3sc","actualCoverage","s","ToastProvider","f","useToast","ToastContext","_react","createContext","context","useContext","b","Error","children","toasts","setToasts","useState","toast","useCallback","message","variant","options","id","Math","random","toString","substring","duration","persistent","newToast","undefined","prev","setTimeout","filter","dismiss","dismissAll","_jsxruntime","jsxs","Provider","value","jsx","ToastContainer","onDismiss","mounted","setMounted","useEffect","_reactdom","createPortal","className","map","_utils","cn","_errormessage","ErrorMessage","document","body"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/components/ui/toast.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useCallback, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { cn } from '@/lib/utils';\nimport { ErrorMessage, ErrorMessageVariant } from '@/components/ui/error-message';\n\ninterface ToastItem {\n  id: string;\n  message: string;\n  variant: ErrorMessageVariant;\n  duration?: number;\n  persistent?: boolean;\n}\n\ninterface ToastContextType {\n  toast: (message: string, variant?: ErrorMessageVariant, options?: { duration?: number; persistent?: boolean }) => string;\n  dismiss: (id: string) => void;\n  dismissAll: () => void;\n}\n\nconst ToastContext = createContext<ToastContextType | null>(null);\n\nexport const useToast = () => {\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error('useToast must be used within a ToastProvider');\n  }\n  return context;\n};\n\ninterface ToastProviderProps {\n  children: React.ReactNode;\n}\n\nexport const ToastProvider: React.FC<ToastProviderProps> = ({ children }) => {\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  const toast = useCallback((\n    message: string,\n    variant: ErrorMessageVariant = 'info',\n    options: { duration?: number; persistent?: boolean } = {}\n  ): string => {\n    const id = Math.random().toString(36).substring(2, 9);\n    const { duration = 5000, persistent = false } = options;\n\n    const newToast: ToastItem = {\n      id,\n      message,\n      variant,\n      duration: persistent ? undefined : duration,\n      persistent,\n    };\n\n    setToasts(prev => [...prev, newToast]);\n\n    // Auto dismiss after duration (unless persistent)\n    if (!persistent) {\n      setTimeout(() => {\n        setToasts(prev => prev.filter(toast => toast.id !== id));\n      }, duration);\n    }\n\n    return id;\n  }, []);\n\n  const dismiss = useCallback((id: string) => {\n    setToasts(prev => prev.filter(toast => toast.id !== id));\n  }, []);\n\n  const dismissAll = useCallback(() => {\n    setToasts([]);\n  }, []);\n\n  return (\n    <ToastContext.Provider value={{ toast, dismiss, dismissAll }}>\n      {children}\n      <ToastContainer toasts={toasts} onDismiss={dismiss} />\n    </ToastContext.Provider>\n  );\n};\n\ninterface ToastContainerProps {\n  toasts: ToastItem[];\n  onDismiss: (id: string) => void;\n}\n\nconst ToastContainer: React.FC<ToastContainerProps> = ({ toasts, onDismiss }) => {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) return null;\n\n  return createPortal(\n    <div\n      className=\"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"\n      aria-live=\"polite\"\n    >\n      {toasts.map((toast) => (\n        <div\n          key={toast.id}\n          className={cn(\n            \"relative overflow-hidden rounded-lg border p-4 pr-6 shadow-lg transition-all\",\n            \"data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]\",\n            \"data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none\",\n            \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n            \"data-[swipe=end]:animate-out data-[state=closed]:fade-out-80\",\n            \"data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full\",\n            \"data-[state=open]:sm:slide-in-from-bottom-full\"\n          )}\n        >\n          <ErrorMessage\n            message={toast.message}\n            variant={toast.variant}\n            onDismiss={() => onDismiss(toast.id)}\n            aria-live=\"assertive\"\n            id={`toast-${toast.id}`}\n          />\n        </div>\n      ))}\n    </div>,\n    document.body\n  );\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}