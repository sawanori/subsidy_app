{"version":3,"names":["cov_15m9n62fn4","actualCoverage","s","PreviewProvider","f","usePreview","usePreviewAutoUpdate","defaultFormData","companyName","representativeName","address","phone","email","subsidyType","projectTitle","projectDescription","requestAmount","projectPeriod","startDate","endDate","budgetBreakdown","timeline","lastUpdated","Date","toISOString","version","defaultConfig","formType","displayMode","showGrid","showWatermark","scale","defaultState","isLoading","error","lastGenerated","cacheKey","PreviewContext","_react","createContext","undefined","previewReducer","state","action","type","b","formData","payload","config","previewUrl","children","initialState","initialFormData","contextState","dispatch","useReducer","updateFormData","useCallback","updates","updateConfig","resetForm","generatePreview","Promise","resolve","setTimeout","mockPreviewUrl","Error","message","isFormValid","useMemo","hasUnsavedChanges","JSON","stringify","value","_jsxruntime","jsx","Provider","context","useContext","delay","timeoutRef","default","useRef","useEffect","current","clearTimeout"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/contexts/PreviewContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useReducer, useCallback, useMemo } from 'react';\nimport { SubsidyFormData, PreviewConfig, PreviewState, PreviewUpdateEvent } from '@/types/preview';\n\ninterface PreviewContextValue {\n  // State\n  formData: SubsidyFormData;\n  config: PreviewConfig;\n  state: PreviewState;\n  \n  // Actions\n  updateFormData: (updates: Partial<SubsidyFormData>) => void;\n  updateConfig: (updates: Partial<PreviewConfig>) => void;\n  resetForm: () => void;\n  generatePreview: () => Promise<void>;\n  \n  // Utils\n  isFormValid: boolean;\n  hasUnsavedChanges: boolean;\n  previewUrl: string | null;\n}\n\ninterface PreviewAction {\n  type: 'UPDATE_FORM_DATA' | 'UPDATE_CONFIG' | 'SET_STATE' | 'RESET_FORM' | 'SET_PREVIEW_URL';\n  payload?: any;\n}\n\ninterface PreviewContextState {\n  formData: SubsidyFormData;\n  config: PreviewConfig;\n  state: PreviewState;\n  previewUrl: string | null;\n  initialFormData: SubsidyFormData;\n}\n\nconst defaultFormData: SubsidyFormData = {\n  companyName: '',\n  representativeName: '',\n  address: '',\n  phone: '',\n  email: '',\n  subsidyType: 'form1',\n  projectTitle: '',\n  projectDescription: '',\n  requestAmount: 0,\n  projectPeriod: {\n    startDate: '',\n    endDate: '',\n  },\n  budgetBreakdown: [],\n  timeline: [],\n  lastUpdated: new Date().toISOString(),\n  version: 1,\n};\n\nconst defaultConfig: PreviewConfig = {\n  formType: 'form1',\n  displayMode: 'pdf',\n  showGrid: false,\n  showWatermark: true,\n  scale: 1.0,\n};\n\nconst defaultState: PreviewState = {\n  isLoading: false,\n  error: null,\n  lastGenerated: null,\n  cacheKey: null,\n};\n\nconst PreviewContext = createContext<PreviewContextValue | undefined>(undefined);\n\nfunction previewReducer(state: PreviewContextState, action: PreviewAction): PreviewContextState {\n  switch (action.type) {\n    case 'UPDATE_FORM_DATA':\n      return {\n        ...state,\n        formData: {\n          ...state.formData,\n          ...action.payload,\n          lastUpdated: new Date().toISOString(),\n          version: state.formData.version + 1,\n        },\n      };\n      \n    case 'UPDATE_CONFIG':\n      return {\n        ...state,\n        config: {\n          ...state.config,\n          ...action.payload,\n        },\n      };\n      \n    case 'SET_STATE':\n      return {\n        ...state,\n        state: {\n          ...state.state,\n          ...action.payload,\n        },\n      };\n      \n    case 'RESET_FORM':\n      return {\n        ...state,\n        formData: { ...defaultFormData },\n        state: { ...defaultState },\n        previewUrl: null,\n      };\n      \n    case 'SET_PREVIEW_URL':\n      return {\n        ...state,\n        previewUrl: action.payload,\n      };\n      \n    default:\n      return state;\n  }\n}\n\nexport function PreviewProvider({ children }: { children: React.ReactNode }) {\n  const initialState: PreviewContextState = {\n    formData: { ...defaultFormData },\n    config: { ...defaultConfig },\n    state: { ...defaultState },\n    previewUrl: null,\n    initialFormData: { ...defaultFormData },\n  };\n\n  const [contextState, dispatch] = useReducer(previewReducer, initialState);\n\n  const updateFormData = useCallback((updates: Partial<SubsidyFormData>) => {\n    dispatch({ type: 'UPDATE_FORM_DATA', payload: updates });\n  }, []);\n\n  const updateConfig = useCallback((updates: Partial<PreviewConfig>) => {\n    dispatch({ type: 'UPDATE_CONFIG', payload: updates });\n  }, []);\n\n  const resetForm = useCallback(() => {\n    dispatch({ type: 'RESET_FORM' });\n  }, []);\n\n  const generatePreview = useCallback(async () => {\n    dispatch({ type: 'SET_STATE', payload: { isLoading: true, error: null } });\n    \n    try {\n      // シミュレートされたプレビュー生成\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // 実際の実装では、ここでPDF生成APIを呼び出し\n      const mockPreviewUrl = `/api/preview/${contextState.formData.version}`;\n      \n      dispatch({ type: 'SET_PREVIEW_URL', payload: mockPreviewUrl });\n      dispatch({\n        type: 'SET_STATE',\n        payload: {\n          isLoading: false,\n          lastGenerated: new Date().toISOString(),\n          cacheKey: `preview_${contextState.formData.version}`,\n        },\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_STATE',\n        payload: {\n          isLoading: false,\n          error: error instanceof Error ? error.message : '予期しないエラーが発生しました',\n        },\n      });\n    }\n  }, [contextState.formData.version]);\n\n  const isFormValid = useMemo(() => {\n    const { companyName, representativeName, projectTitle, requestAmount } = contextState.formData;\n    return !!(companyName && representativeName && projectTitle && requestAmount > 0);\n  }, [contextState.formData]);\n\n  const hasUnsavedChanges = useMemo(() => {\n    return JSON.stringify(contextState.formData) !== JSON.stringify(contextState.initialFormData);\n  }, [contextState.formData, contextState.initialFormData]);\n\n  const value: PreviewContextValue = {\n    formData: contextState.formData,\n    config: contextState.config,\n    state: contextState.state,\n    updateFormData,\n    updateConfig,\n    resetForm,\n    generatePreview,\n    isFormValid,\n    hasUnsavedChanges,\n    previewUrl: contextState.previewUrl,\n  };\n\n  return (\n    <PreviewContext.Provider value={value}>\n      {children}\n    </PreviewContext.Provider>\n  );\n}\n\nexport function usePreview() {\n  const context = useContext(PreviewContext);\n  if (context === undefined) {\n    throw new Error('usePreview must be used within a PreviewProvider');\n  }\n  return context;\n}\n\n// デバウンス付きプレビュー更新フック\nexport function usePreviewAutoUpdate(delay = 1000) {\n  const { formData, generatePreview, state } = usePreview();\n  const timeoutRef = React.useRef<NodeJS.Timeout>();\n\n  React.useEffect(() => {\n    if (!state.isLoading) {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      \n      timeoutRef.current = setTimeout(() => {\n        generatePreview();\n      }, delay);\n    }\n\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [formData, generatePreview, state.isLoading, delay]);\n\n  return state;\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6MgB;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAA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","ignoreList":[]}