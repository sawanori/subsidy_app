{"version":3,"names":["FocusTrap","children","active","cov_2r32kgjiir","b","initialFocus","restoreFocus","className","f","containerRef","s","_react","useRef","saveFocus","restoreFocusFn","trapFocus","focusFirstElement","_useFocusManagement","useFocusManagement","useEffect","cleanup","_jsxruntime","jsx","ref"],"sources":["/Users/noritakasawada/AI_P/subsidyApp/frontend/src/components/a11y/FocusTrap.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport { useFocusManagement } from '@/hooks/useFocusManagement';\n\ninterface FocusTrapProps {\n  children: React.ReactNode;\n  active?: boolean;\n  initialFocus?: boolean;\n  restoreFocus?: boolean;\n  className?: string;\n}\n\nexport const FocusTrap: React.FC<FocusTrapProps> = ({\n  children,\n  active = true,\n  initialFocus = true,\n  restoreFocus = true,\n  className,\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { saveFocus, restoreFocus: restoreFocusFn, trapFocus, focusFirstElement } = useFocusManagement();\n\n  useEffect(() => {\n    if (!active) return;\n\n    // Save current focus\n    if (restoreFocus) {\n      saveFocus();\n    }\n\n    // Focus first element if requested\n    if (initialFocus) {\n      focusFirstElement(containerRef);\n    }\n\n    // Trap focus within container\n    const cleanup = trapFocus(containerRef);\n\n    return () => {\n      cleanup?.();\n      if (restoreFocus) {\n        restoreFocusFn();\n      }\n    };\n  }, [active, initialFocus, restoreFocus, saveFocus, restoreFocusFn, trapFocus, focusFirstElement]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={className}\n      data-focus-trap={active}\n    >\n      {children}\n    </div>\n  );\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}